<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!-- Generated by the JDiff Javadoc doclet -->
<!-- (http://www.jdiff.org) -->
<!-- on Mon Sep 13 10:43:28 CEST 2021 -->

<api
  xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
  xsi:noNamespaceSchemaLocation='api.xsd'
  name="GPC-BROKER-API-1.1"
  jdversion="1.1.1">

<!--  Command line arguments =  -doclet jdiff.JDiff -docletpath ..\DEVENV\jdiff\jdiff.jar -doclet jdiff.JDiff -docletpath ..\DEVENV\jdiff\jdiff.jar -bootclasspath ..\DEVENV\SUN\jc222\lib\api.jar -sourcepath src -apiname GPC-BROKER-API-1.1 -apidir . -->
<package name="org.globalplatform.broker">
  <!-- start interface org.globalplatform.broker.BrokerCallbackRequest -->
  <interface name="BrokerCallbackRequest"    abstract="true"
    static="false" final="false" visibility="public"
    deprecated="not deprecated">
    <implements name="javacard.framework.Shareable"/>
    <method name="requestCallback"
      abstract="true" native="false" synchronized="false"
      static="false" final="false" visibility="public"
      deprecated="not deprecated">
      <param name="object" type="short"/>
      <param name="attributes" type="short"/>
      <param name="request" type="short"/>
      <doc>
      <![CDATA[Requests the Broker Application to perform a specific action, which may
 result in the caller of this method, or possibly multiple Applications, to
 be notified of some event (i.e. through {@link BrokerListener#onBrokerEvent}).<p> 

 Whether an action (and possibly resulting notifications) shall be performed
 immediately or may be performed later in time depends on the requested
 action and should be specified for each action.<p>
 
 If some action requires notifying the caller of this method immediately
 (i.e. before returning from the call to this method), then the
 implementation should implement a mechanism to avoid entering infinite
 processing loops (malicious or not). If such a loop is detected then an
 exception shall be thrown. <p>

 @param object object (e.g. entity, asset...) to which the request relates
 @param attributes additional object attributes which may be used to further identify the object 
 @param request request specification

 @exception ISOException ({@link ISO7816#SW_FUNC_NOT_SUPPORTED}) if the
 request is not supported or unknown to the Broker Application.
 @exception ISOException ({@link ISO7816#SW_CONDITIONS_NOT_SATISFIED}) if
 the Broker Application detects a processing loop.]]>
      </doc>
    </method>
    <field name="FAMILY_BROKER_SERVICE" type="byte"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Indicates the family of the Broker Service Identifier (0x88).]]>
      </doc>
    </field>
    <doc>
    <![CDATA[Interface implemented by a Broker Application allowing other Applications to
 request an immediate action from the Broker Application.<p>

 It is intended for objects implementing this interface to be accessed through
 a Global Service belonging to {@link #FAMILY_BROKER_SERVICE} and registered by a Broker Application. <p>]]>
    </doc>
  </interface>
  <!-- end interface org.globalplatform.broker.BrokerCallbackRequest -->
  <!-- start interface org.globalplatform.broker.BrokerListener -->
  <interface name="BrokerListener"    abstract="true"
    static="false" final="false" visibility="public"
    deprecated="not deprecated">
    <implements name="javacard.framework.Shareable"/>
    <method name="onBrokerEvent"
      abstract="true" native="false" synchronized="false"
      static="false" final="false" visibility="public"
      deprecated="not deprecated">
      <param name="context" type="short"/>
      <param name="object" type="short"/>
      <param name="attributes" type="short"/>
      <param name="event" type="short"/>
      <param name="environment" type="short"/>
      <param name="assurance" type="short"/>
      <param name="security" type="short"/>
      <param name="device" type="short"/>
      <param name="discretionary" type="short"/>
      <doc>
      <![CDATA[Notifies a Broker Event. 
 
 @param context context (e.g. functional, temporal...) in which the event occurred
 @param object object (e.g. entity, asset...) to which the event applies
 @param attributes additional object attributes (e.g. identifier, state, counter...)
 @param event event specification
 @param environment environment in which the event was generated
 @param assurance security assurance level of the environment
 @param security security mechanisms protecting the event 
 @param device device on which the event was generated
 @param discretionary additional discretionary information

 @exception ISOException with a reason code indicating the type of error (if any)]]>
      </doc>
    </method>
    <field name="SIO_BROKER_LISTENER" type="byte"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Constant used to retrieve an implementation of this interface from an Application (0xB0).<p>
 
 This constant is a generic constant telling the Application that the
 requested SIO (if available) shall be of type {@code BrokerListener}.
 Subtypes of {@code BrokerListener} may define additional constants that
 should be used instead to tell the Application that a specific subtype of
 {@code BrokerListener} is requested. If such constants are not used and the
 Application implements several subtypes of {@code BrokerListener}, the
 Application may return {@code null} or return an object of an incorrect
 type (i.e. leading to a {@code ClassCastException} or other errors).

 @see JCSystem#getAppletShareableInterfaceObject]]>
      </doc>
    </field>
    <doc>
    <![CDATA[Interface implemented by an Application to listen to the events notified by a Broker Application.<p>]]>
    </doc>
  </interface>
  <!-- end interface org.globalplatform.broker.BrokerListener -->
  <!-- start interface org.globalplatform.broker.BrokerRequestHandler -->
  <interface name="BrokerRequestHandler"    abstract="true"
    static="false" final="false" visibility="public"
    deprecated="not deprecated">
    <implements name="javacard.framework.Shareable"/>
    <method name="initBrokerRequest"
      abstract="true" native="false" synchronized="false"
      static="false" final="false" visibility="public"
      deprecated="not deprecated">
      <param name="object" type="short"/>
      <param name="attributes" type="short"/>
      <param name="request" type="short"/>
      <doc>
      <![CDATA[Initializes the processing of a Broker Request. 

 @param object object (e.g. entity, asset...) to which the request relates
 @param attributes additional object attributes which may be used to further identify the object 
 @param request request specification

 @exception ISOException ({@link ISO7816#SW_FUNC_NOT_SUPPORTED}) if the
 request is not supported or unknown to the Application.]]>
      </doc>
    </method>
    <method name="updateBrokerRequest"
      abstract="true" native="false" synchronized="false"
      static="false" final="false" visibility="public"
      deprecated="not deprecated">
      <param name="inBuffer" type="byte[]"/>
      <param name="inOffset" type="short"/>
      <param name="inLength" type="short"/>
      <doc>
      <![CDATA[Accumulates the data of a Broker Request. 

 @param inBuffer byte array containing intermediary input data
 @param inOffset offset of intermediary input data
 @param inLength length of intermediary input data

 @exception ISOException ({@link ISO7816#SW_CONDITIONS_NOT_SATISFIED}) if
 the {@link #initBrokerRequest} method was not previously invoked, or if the
 caller Application is not the same as the one that last invoked the {@link #initBrokerRequest}.
 @exception NullPointerException if <code>inBuffer</code> is null.
 @exception ArrayIndexOutOfBoundsException if <code>inBuffer</code> would be accessed out of bounds.
 @exception SecurityException if <code>inBuffer</code> cannot be read by the Application implementing this interface. 

 @see #initBrokerRequest
 @see JCSystem#getAID]]>
      </doc>
    </method>
    <method name="handleBrokerRequest" return="short"
      abstract="true" native="false" synchronized="false"
      static="false" final="false" visibility="public"
      deprecated="not deprecated">
      <param name="inBuffer" type="byte[]"/>
      <param name="inOffset" type="short"/>
      <param name="inLength" type="short"/>
      <param name="outBuffer" type="byte[]"/>
      <param name="outOffset" type="short"/>
      <doc>
      <![CDATA[Finalizes the processing of a Broker Request. 

 @param inBuffer byte array containing final input data
 @param inOffset offset of final input data
 @param inLength length of final input data
 @param outBuffer byte array where output data shall be written (if any)
 @param outOffset offset of output data (if any)

 @return depending on the type of request, length of output data (if any) or specific result value 

 @exception ISOException ({@link ISO7816#SW_CONDITIONS_NOT_SATISFIED}) if
 the {@link #initBrokerRequest} method was not previously invoked, or if the
 caller Application is not the same as the one that last invoked the {@link #initBrokerRequest}.
 @exception NullPointerException if <code>inBuffer</code> or <code>outBuffer</code> is null.
 @exception ArrayIndexOutOfBoundsException if <code>inBuffer</code> or <code>outBuffer</code> would be accessed out of bounds.
 @exception SecurityException if <code>inBuffer</code> cannot be read or
 <code>outBuffer</code> cannot be written by the Application implementing this interface.

 @see #initBrokerRequest
 @see #updateBrokerRequest
 @see JCSystem#getAID]]>
      </doc>
    </method>
    <field name="SIO_BROKER_REQUEST_HANDLER" type="byte"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Constant used to retrieve an implementation of this interface from an Application (0xC0).<p>
 
 This constant is a generic constant telling the Application that the
 requested SIO (if available) shall be of type {@code BrokerRequestHandler}.
 Subtypes of {@code BrokerRequestHandler} may define additional constants that
 should be used instead to tell the Application that a specific subtype of
 {@code BrokerRequestHandler} is requested. If such constants are not used and the
 Application implements several subtypes of {@code BrokerRequestHandler}, the
 Application may return {@code null} or return an object of an incorrect
 type (i.e. leading to a {@code ClassCastException} or other errors).

 @see JCSystem#getAppletShareableInterfaceObject]]>
      </doc>
    </field>
    <doc>
    <![CDATA[Interface implemented by an Application to handle the requests submitted by a Broker Application.<p>]]>
    </doc>
  </interface>
  <!-- end interface org.globalplatform.broker.BrokerRequestHandler -->
  <!-- start interface org.globalplatform.broker.CDCVMBrokerCallbackRequest -->
  <interface name="CDCVMBrokerCallbackRequest"    abstract="true"
    static="false" final="false" visibility="public"
    deprecated="not deprecated">
    <implements name="org.globalplatform.broker.BrokerCallbackRequest"/>
    <field name="SERVICE_BROKER_CDCVM" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Constant used to register <b>and</b> retrieve the Global Service implementing this interface 
 (<code>{@link #FAMILY_BROKER_SERVICE FAMILY_BROKER_SERVICE}&lt;&lt;8|0x01</code>).]]>
      </doc>
    </field>
    <field name="REQUEST_CDCVM_LAST_EVENT" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Constant used to request the Broker Application sending back the last CDCVM
 event (pertaining to specified CDCVM object).<p>

 When receiving this request, the Broker Application shall immediately try
 to notify the caller Application (i.e. before returning from the call made
 by the Application to the {@link #requestCallback} method).<p>]]>
      </doc>
    </field>
    <field name="REQUEST_CDCVM_NEW_VERIFICATION" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Constant used to request the Broker Application initiating a procedure to
 have the Host Device (or a Host Device Application) trigger a new CDCVM
 verification attempt (of specified CDCVM object) and produce a new verification result.<p>

 This kind of request shall be used when an Application wishes to trigger a
 new CDCVM verification attempt. However, such a request may not be
 supported by all implementations. If supported, the Broker Application
 provides no guarantee as to when the fresh result will be notified.<p>]]>
      </doc>
    </field>
    <field name="REQUEST_CDCVM_NOTIFY_VERIFICATION_CONSUMED" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Constant used to notify the Broker Application that the caller
 Application has consumed the last notified successful
 verification result (pertaining to specified CDCVM object).<p>

 This notification may be used by an Application that consumed a
 successful verification result (i.e. as part of a particular
 transaction) and wishes to inform the Broker Application.<p>

 The interpretation of this notification by the Broker Application
 is implementation/policy dependent. If the successful
 verification result referenced by the caller Application
 (i.e. for the specified CDCVM object) is obsolete or unknown to
 the Broker Application, then the notification may be silently
 ignored.<p>]]>
      </doc>
    </field>
    <field name="REQUEST_CDCVM_FRESH_VERIFICATION_RESULT" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Constant used to request the Broker Application notifying a fresh CDCVM
 verification result (of specified CDCVM object) that hasn't been notified
 yet to the caller Application.<p>

 This kind of request shall be used when an Application wishes to be
 notified of a fresh CDCVM verification result, if such a result is
 available, but neither wants to trigger any new verification attempt nor
 wants to wait for a pending verification result.<p>

 In response to this request, the Broker Application may notify one of the following events:<ul>
 <li>{@link CDCVMBrokerListener#EVENT_CDCVM_EVENT_NOT_PERFORMED}
 <li>{@link CDCVMBrokerListener#EVENT_CDCVM_EVENT_VERIFICATION_SUCCEEDED}
 <li>{@link CDCVMBrokerListener#EVENT_CDCVM_EVENT_VERIFICATION_FAILED}
 </ul>

 @since export file 1.1]]>
      </doc>
    </field>
    <doc>
    <![CDATA[Extension of the {@link BrokerCallbackRequest} interface including
 definitions specific to the CDCVM (Consumer Device CVM) use case. <p>

 It is intended for objects implementing this interface to be accessed through
 a Global Service registered by a Broker Application with service identifier {@link #SERVICE_BROKER_CDCVM}. <p>

 When invoking this interface, in order to form a valid parameter value the caller shall:<ul>

 <li>For {@link #requestCallback}:<ul>

  <li>For the {@code object} parameter, use the encoding rules described for
  the {@link CDCVMBrokerListener#onBrokerEvent} for that same
  parameter. However, the value 'FFFF' does not apply.

  <li>For the {@code attributes} parameter, the value is RFU (i.e. use '0000'). 

  <li>For the {@code request} parameter, use any of the {@code REQUEST_CDCVM_XXX} constants defined by this interface.

  </ul>
 </ul><p>

 E.g. 
 <pre>
   broker.requestCallback(OBJECT_CDCVM_BIO_FINGER_DEFAULT,(short)0x0000,REQUEST_CDCVM_LAST_EVENT);
 </pre>

 @since <ul>
 <li>export file version 1.0: initial version.
 <li>export file version 1.1: new constant {@link #REQUEST_CDCVM_FRESH_VERIFICATION_RESULT}
 </ul>]]>
    </doc>
  </interface>
  <!-- end interface org.globalplatform.broker.CDCVMBrokerCallbackRequest -->
  <!-- start interface org.globalplatform.broker.CDCVMBrokerListener -->
  <interface name="CDCVMBrokerListener"    abstract="true"
    static="false" final="false" visibility="public"
    deprecated="not deprecated">
    <implements name="org.globalplatform.broker.BrokerListener"/>
    <field name="SIO_CDCVM_BROKER_LISTENER" type="byte"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Constant used to retrieve an implementation of this interface from an Application (0xB1).<p>

 When using this constant to retrieve a {@link BrokerListener} instance, the
 caller should explicitly cast the object returned by the Application to the
 type {@link CDCVMBrokerListener} to ensure it is of the correct type.<p>

 @see JCSystem#getAppletShareableInterfaceObject]]>
      </doc>
    </field>
    <field name="MASK_CONTEXT_CDCVM_SESSION" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="MASK_OBJECT_CDCVM_TYPE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="CDCVM_TYPE_PASSCODE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="CDCVM_TYPE_DEVICE_PATTERN" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="CDCVM_TYPE_BIO_FINGER" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="CDCVM_TYPE_BIO_FACIAL" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="CDCVM_TYPE_BIO_IRIS" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="CDCVM_TYPE_BIO_VOICE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="CDCVM_TYPE_BIO_VEIN" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_PASSCODE_DEFAULT" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_PASSCODE_DIGITS" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_PASSCODE_DIGITS_SCRAMBLED" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_PASSCODE_PASSWORD" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_DEVICE_PATTERN_DEFAULT" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_FINGER_DEFAULT" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_FINGER_RIGHT_THUMB" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_FINGER_RIGHT_INDEX" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_FINGER_RIGHT_MIDDLE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_FINGER_RIGHT_RING" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_FINGER_RIGHT_SMALL" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_FINGER_LEFT_THUMB" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_FINGER_LEFT_INDEX" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_FINGER_LEFT_MIDDLE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_FINGER_LEFT_RING" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_FINGER_LEFT_SMALL" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_FACIAL_DEFAULT" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_IRIS_DEFAULT" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_IRIS_RIGHT" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_IRIS_LEFT" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_VOICE_DEFAULT" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_VEIN_HAND_PALM_RIGHT" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="OBJECT_CDCVM_BIO_VEIN_HAND_PALM_LEFT" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="MASK_ATTR_CDCVM_TRIES" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="MASK_ATTR_CDCVM_TRY_LIMIT" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="MASK_ATTR_CDCVM_REMAINING_TRIES" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="EVENT_CDCVM_EVENT_NOT_PERFORMED" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="EVENT_CDCVM_EVENT_NOT_ENROLLED" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="EVENT_CDCVM_EVENT_SESSION_START" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="EVENT_CDCVM_EVENT_SESSION_END" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="EVENT_CDCVM_EVENT_VERIFICATION_SUCCEEDED" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="EVENT_CDCVM_EVENT_VERIFICATION_FAILED" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="EVENT_CDCVM_EVENT_BLOCKED" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="EVENT_CDCVM_EVENT_ERROR" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="EVENT_CDCVM_EVENT_VERIFICATION_INVALIDATED" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Event indicating that any previously recorded occurrence of
 {@link #EVENT_CDCVM_EVENT_VERIFICATION_SUCCEEDED} shall be discarded.  
 Based on the value of the {@code object} parameter, this requirement would
 apply to a specific CDCVM object or all CDCVM objects (known to the
 Application).<p>

 The Broker Application is only required to notify this event once for any
 particular CDCVM object. Once this event's been notified, until it becomes
 aware of a new CDCVM event, the Broker Application shall notify {@link #EVENT_CDCVM_EVENT_NOT_PERFORMED}
 when being requested about the last CDCVM event pertaining to the same CDCVM object.]]>
      </doc>
    </field>
    <field name="MASK_ENV_CDCVM_CAPTURE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="ENV_CDCVM_CAPTURE_UNKNOWN" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="ENV_CDCVM_CAPTURE_UNTRUSTED_HW" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="ENV_CDCVM_CAPTURE_TRUSTED_HW" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="ENV_CDCVM_CAPTURE_EXTERNAL_TRUSTED_DEVICE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="MASK_ENV_CDCVM_VERIFICATION" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="ENV_CDCVM_VERIFICATION_UNKNOWN" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="ENV_CDCVM_VERIFICATION_HOST_DEVICE_OS" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="ENV_CDCVM_VERIFICATION_TEE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="ENV_CDCVM_VERIFICATION_REE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="ENV_CDCVM_VERIFICATION_CLOUD" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="ENV_CDCVM_VERIFICATION_SE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="ENV_CDCVM_VERIFICATION_OTHER_SE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="ENV_CDCVM_VERIFICATION_EXTERNAL_TRUSTED_DEVICE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="MASK_DEVICE_CDCVM_CAPTURE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="DEVICE_CDCVM_CAPTURE_UNKNOWN" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="DEVICE_CDCVM_CAPTURE_HOST" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="DEVICE_CDCVM_CAPTURE_MOBILE_COMPANION" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="MASK_DEVICE_CDCVM_VERIFICATION" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="DEVICE_CDCVM_VERIFICATION_UNKNOWN" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="DEVICE_CDCVM_VERIFICATION_HOST" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="DEVICE_CDCVM_VERIFICATION_MOBILE_COMPANION" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="MASK_SECURITY_CDCVM_C2V" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="SECURITY_CDCVM_C2V_UNKNOWN" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Transmission of CDCVM data from capture to verifier uses unknown security mechanisms (possibly none).]]>
      </doc>
    </field>
    <field name="SECURITY_CDCVM_C2V_NOT_APPLICABLE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Transmission of CDCVM data from capture to verifier does not require security (e.g. remains internal to some component).]]>
      </doc>
    </field>
    <field name="SECURITY_CDCVM_C2V_SC" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Transmission of CDCVM data from capture to verifier uses a secure channel.]]>
      </doc>
    </field>
    <field name="SECURITY_CDCVM_C2V_XIO_NO_SC" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Transmission of CDCVM data from capture to verifier uses a dedicated I/O interface (no secure channel).]]>
      </doc>
    </field>
    <field name="MASK_SECURITY_CDCVM_V2B" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <field name="SECURITY_CDCVM_V2B_UNKNOWN" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Transmission of CDCVM verification result from verifier to broker uses unknown security mechanisms (possibly none).]]>
      </doc>
    </field>
    <field name="SECURITY_CDCVM_V2B_NOT_APPLICABLE" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Transmission of CDCVM verification result from verifier to broker does not require security (e.g. remains internal to some component).]]>
      </doc>
    </field>
    <field name="SECURITY_CDCVM_V2B_SC" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Transmission of CDCVM verification result from verifier to broker uses a secure channel.]]>
      </doc>
    </field>
    <field name="SECURITY_CDCVM_V2B_XIO_NO_SC" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Transmission of CDCVM verification result from verifier to broker uses a dedicated I/O interface (no secure channel).]]>
      </doc>
    </field>
    <field name="ASSURANCE_CDCVM_UNKNOWN" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
    </field>
    <doc>
    <![CDATA[Extension of the {@link BrokerListener} interface including definitions specific to the CDCVM (Consumer Device CVM) use case. <p>

 When invoking this interface, in order to form a valid parameter value the caller shall:<ul>

 <li>For {@link #onBrokerEvent}:<ul>

  <li>For the {@code context} parameter, build a {@code short} value of the form '00XX' where:<ul>

    <li>XX is encoded as follows:<ul>

        <li> Bits {@code b1} and {@code b2} encode the CDCVM session
        identifier (if any) to which the notified {@code event} belongs
        (i.e. within session) or relates (i.e. start or end of session).
        Values 1, 2, and 3 are valid CDCVM session identifiers and consecutive
        notifications indicating the same session identifier shall be
        interpreted by the notified Application as pertaining to the same session.
        <br>A value of 0 shall be used to indicate that the notified {@code event}
        is independent and does not pertain to any CDCVM session.

        <li> Bits {@code b3} to {@code b8} are RFU.  
      </ul>
 
    </ul>

  <li>For the {@code object} parameter, any of {@code OBJECT_CDCVM_XXX} constants.  

  <li>For the {@code attributes} parameter, build a {@code short} value of the form '00XY' where:<ul>

    <li>X encodes the CDCVM try limit (from 1 to 15). A value of 0 shall be
        used to indicate that the try limit is unknown, not applicable or
        greater than 15.

    <li>Y encodes the CDCVM remaining tries (from 1 to 14). A value of 0 shall
        be used to indicate that the CDCVM is blocked (NOTE: this information
        shall not conflict with the value provided for the {@code event}
        parameter). A value of 15 ('F') indicates that the number of remaining
        tries is unknown, not applicable or greater than 14.

    </ul>

  <li>For the {@code event} parameter, any of {@code EVENT_CDCVM_XXX} constants.  

  <li>For the {@code environment} parameter, combine (OR-ing) a {@code ENV_CAPTURE_XXX} constant with a {@code ENV_VERIFICATION_XXX} constant.

  <li>For the {@code assurance} parameter: use the {@code ASSURANCE_CDCVM_UNKNOWN} constant (NOTE: other choices may be defined in the future).

  <li>For the {@code security} parameter, combine (OR-ing) a {@code SECURITY_CDCVM_C2V_XXX} constant with a {@code SECURITY_CDCVM_V2B_XXX} constant.

  <li>For the {@code device} parameter, combine (OR-ing) a {@code DEVICE_CDCVM_CAPTURE_XXX} constant with a {@code DEVICE_CDCVM_VERIFICATION_XXX} constant.

  </ul>

 </ul><p>

 E.g. 
 <pre>
   listener.onBrokerEvent((short)0x0000, // context
                          OBJECT_CDCVM_BIO_FINGER_DEFAULT, // object
                          (short)0x0033, // attributes
                          EVENT_CDCVM_EVENT_VERIFICATION_SUCCEEDED,
                          ...);
 </pre>

 The implementation of this interface may use the {@code MASK_XXX} constants to inspect the received parameters. E.g.<p>
 <pre>
   short session = (short)(context&MASK_CONTEXT_CDCVM_SESSION);

   short object_type = (short)(object&MASK_OBJECT_CDCVM_TYPE);

   switch (object_type) {
   case CDCVM_TYPE_PASSCODE:
     ...
     break;

   case CDCVM_TYPE_BIO_FINGER:
     ...
     break;
   }   
 </pre>

 @since <ul>
 <li>export file version 1.0: initial version.
 <li>export file version 1.1: new constant {@link #EVENT_CDCVM_EVENT_NOT_ENROLLED}
 </ul>]]>
    </doc>
  </interface>
  <!-- end interface org.globalplatform.broker.CDCVMBrokerListener -->
  <!-- start interface org.globalplatform.broker.CDCVMBrokerRequestHandler -->
  <interface name="CDCVMBrokerRequestHandler"    abstract="true"
    static="false" final="false" visibility="public"
    deprecated="not deprecated">
    <implements name="org.globalplatform.broker.BrokerRequestHandler"/>
    <field name="SIO_CDCVM_BROKER_REQUEST_HANDLER" type="byte"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Constant used to retrieve an implementation of this interface from an Application (0xC1).<p>

 When using this constant to retrieve a {@link BrokerRequestHandler} instance, the
 caller should explicitly cast the object returned by the Application to the
 type {@link CDCVMBrokerRequestHandler} to ensure it is of the correct type.<p>

 @see JCSystem#getAppletShareableInterfaceObject]]>
      </doc>
    </field>
    <field name="REQUEST_CDCVM_VERIFY" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Request to verify a CDCVM value.
 <p>
 The {@link #handleBrokerRequest} method shall not write any output data,
 and shall return {@link #VERIFY_SUCCEEDED} if the verification succeeded or
 {@link #VERIFY_FAILED} if the verification failed.]]>
      </doc>
    </field>
    <field name="VERIFY_SUCCEEDED" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Constant used to indicate CDCVM verification success.]]>
      </doc>
    </field>
    <field name="VERIFY_FAILED" type="short"
      transient="false" volatile="false"
      static="true" final="true" visibility="public"
      deprecated="not deprecated">
      <doc>
      <![CDATA[Constant used to indicate CDCVM verification failure.]]>
      </doc>
    </field>
    <doc>
    <![CDATA[Extension of the {@link BrokerRequestHandler} interface including definitions specific to the CDCVM (Consumer Device CVM) use case. <p>

 When invoking this interface, in order to form a valid parameter value the caller shall:<ul>

 <li>For {@link #initBrokerRequest}:<ul>

  <li>For the {@code object} parameter, use the encoding rules described for
  the {@link CDCVMBrokerListener#onBrokerEvent} for that same
  parameter. However, the value 'FFFF' does not apply.

  <li>For the {@code attributes} parameter, the value is RFU (i.e. use '0000'). 

  <li>For the {@code request} parameter, use any of the {@code REQUEST_CDCVM_XXX} constants defined by this interface.

  </ul>
 </ul><p>

 E.g. 
 <pre>
   listener.initBrokerRequest(OBJECT_CDCVM_BIO_FINGER_DEFAULT,(short)0x0000,REQUEST_CDCVM_VERIFY);
 </pre>]]>
    </doc>
  </interface>
  <!-- end interface org.globalplatform.broker.CDCVMBrokerRequestHandler -->
</package>

</api>
